<h1>
  Unclaimed Leads
  <span id="num-unclaimed-leads" class="italic">
    (<%= @dashboard_service.unclaimed_leads.count %>)
  </span>
</h1>

<div id="view-current-stats">
  <!--  [TODO] View Current Stats -->
</div>

<div class="row">
  <div class="col-xxl-9">
    <div class="responsiveTable">
      <table class="table table-bordered table-hover" id="UnclaimedLeadsTable">
        <thead>
          <th>Date/Time</th>
          <th>Name</th>
          <th>Contact Info</th>
          <th></th>
          <th>Assign</th>
        </thead>
        <tbody>
          <%= render collection: @dashboard_service.unclaimed_leads.limit(10), partial: 'unclaimed_lead', as: :lead %>
        </tbody>
      </table>
    </div>
    <br />
    <hr />
    <br />
    <%= render partial: 'active_leads' %>
  </div>

  <div class="col-xxl-3">
    <div id="MotivationalIcons">
      <div>
        <div class="motivational-icon">
          <img src="/icons/icon-leadspeed.svg" height="54"><br>
          <span id="LeadSpeedScore">A</span>
        </div>
      </div>
      <div>
        <div class="motivational-icon">
          <img src="/icons/icon-tenacity.svg" height="54"><br>
          <span id="LeadSpeedScore">9.0</span>
        </div>
      </div>
      <div>
        <div class="motivational-icon">
          <!--show the div below if the user has achieved Star status-->
          <div id="StarDiv">
            <img src="/icons/icon-star.svg" height="54"><br>
            <span id="StarText">You're a Star!</span>
          </div>
          <!--show the div below if the user has NOT achieved Star status-->
          <div id="NotStarDiv">
            <img src="/icons/icon-star.svg" height="54"><br>
            <span id="NotStarText">Future Star</span>
          </div>
        </div>
      </div>
      <div>
        <div class="motivational-icon">
          <!--show the div below if the user has achieved Superstar status-->
          <div id="SuperstarDiv">
            <img src="/icons/icon-superstar.svg" height="54"><br>
            <span id="SuperstarText">SUPER STAR!</span>
          </div>
          <!--show the div below if the user has NOT achieved Superstar status-->
          <div id="NotSuperstarDiv">
            <img src="/icons/icon-superstar.svg" height="54"><br>
            <span id="NotSuperstarText">Future Super Star</span>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).on('turbolinks:load', function() {
    $('form.lead-assignment select.form-select').on('change', function(e){
      var submit_buttons = $(e.target.parentElement).find('input[type=submit]')
      if (e.target.selectedIndex > 0) {
        submit_buttons.show()
      } else {
        submit_buttons.hide()
      }
    })

    //hide the Active Leads default visible tab content on mobile
    /*
    if($("#ActiveLeadsTabs").css('display') == "none") {
        $("#upcoming-appointments").removeClass("show active");
        $("#my-leads").removeClass("show active");
        $("#all-leads").removeClass("show active");
        $("#stale").removeClass("show active");
    }
    */

    //when the user makes a change to the ActiveLeadsDropdown (only visible on mobile))
    $("#ActiveLeadsDropdown").change(function() {

        //hide any visible tab content
        $("#upcoming-appointments").removeClass("show active");
        $("#my-leads").removeClass("show active");
        $("#all-leads").removeClass("show active");
        $("#stale").removeClass("show active");

        //show the appropriate tab content based on the dropdown selection
        var currentValue = $(this).val();
        $("#" + currentValue).addClass("show active");

    });
  })
</script>
