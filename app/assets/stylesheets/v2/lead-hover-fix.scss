@import 'variables';

// Simplified hover system to prevent stuck animations
.lead_listing {
  position: relative;
  
  tbody tr {
    position: relative;
    // No z-index changes on tr hover to prevent stacking issues
  }
}

// Clean, simple hover animation for lead cards
.lead_card {
  position: relative;
  transform: translateY(0);
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, background 0.2s ease-out, border-color 0.2s ease-out !important;
  z-index: 1;
  
  // Remove properties that might cause issues
  will-change: auto !important;
  contain: none !important;
  isolation: auto !important;
  
  // Prevent layout shift from border width changes
  box-sizing: border-box !important;
}

// Use direct card hover only (not tr:hover)
.lead_card:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15) !important;
  z-index: 10 !important; // Simple z-index bump
  
  // Ensure the transition happens
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out !important;
}

// Remove tr:hover effects that cause conflicts
.lead_listing tbody tr:hover {
  // Do nothing - let the card handle its own hover
  .lead_card {
    // Don't apply any styles here
  }
}

// Fix spacing between cards to prevent hover overlap
.lead_listing {
  border-spacing: 0 12px !important; // Adequate space between rows
  
  td {
    // Ensure proper padding for hover states
    &:last-child {
      padding-top: 4px !important;
      padding-bottom: 4px !important;
    }
  }
}

// Ensure dashboard section allows for hover overflow
.dashboard-section {
  position: relative;
  z-index: 1;
  overflow: visible !important;
  
  // Add padding to accommodate lifted cards
  padding-bottom: calc(#{$spacing-xl} + 8px) !important;
}

// Lead card styling overrides - removed to let z-unified-lead-animations.scss handle it

// Ensure smooth transitions by preventing parent interference
.lead_listing {
  tbody tr {
    z-index: auto !important; // Don't change z-index on tr
    transform: none !important; // No transform on tr
    
    &:hover {
      z-index: auto !important; // Still no z-index change
      background: transparent !important; // No background change
    }
  }
}

// Mobile - disable complex hover animations
@media (max-width: 767px) {
  .lead_card {
    &:hover {
      transform: none !important;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    }
  }
}