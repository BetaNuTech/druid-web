@import 'variables';

// Redesigned lead card layout with better icon/button integration
.lead_listing {
  td {
    &:first-child {
      width: 50px !important;
      padding-right: 0 !important;
      vertical-align: top;
      padding-top: $spacing-md;
      
      // Fix for glyphicon-person (alternate class name)
      .glyphicon-user,
      .glyphicon-person {
        font-size: 20px !important;
        color: $gray-600 !important;
        display: inline-flex !important;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, $gray-100 0%, $gray-50 100%);
        border: 2px solid $gray-200;
        border-radius: 50%;
        transition: all 0.2s ease;
        position: relative;
        
        &::before {
          content: '';
          position: absolute;
          inset: -2px;
          border-radius: 50%;
          padding: 2px;
          background: linear-gradient(135deg, $brand-teal 0%, $brand-medium-blue 100%);
          -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
          -webkit-mask-composite: xor;
          mask-composite: exclude;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
      }
      
      // Hover effect for icon
      tr:hover & .glyphicon-user,
      tr:hover & .glyphicon-person {
        background: linear-gradient(135deg, $brand-light-blue 0%, lighten($brand-light-blue, 10%) 100%);
        color: $white !important;
        border-color: $brand-light-blue;
        transform: scale(1.05);
        
        &::before {
          opacity: 1;
        }
      }
    }
    
    &.dashboard_item_date {
      width: auto !important;
      padding-right: $spacing-md !important;
      vertical-align: top;
      padding-top: $spacing-md;
      
      // Stack claim button and duplicate link vertically
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
      align-items: flex-start;
      
      .btn {
        min-width: 80px !important;
        padding: 6px 16px !important;
        font-size: 14px !important;
        font-weight: $font-weight-medium;
        border-radius: $border-radius-md;
        background: linear-gradient(135deg, $brand-medium-blue 0%, darken($brand-medium-blue, 5%) 100%);
        border: none;
        box-shadow: 0 2px 4px rgba($brand-medium-blue, 0.2);
        transition: all 0.2s ease;
        
        &:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 8px rgba($brand-medium-blue, 0.3);
          background: linear-gradient(135deg, lighten($brand-medium-blue, 5%) 0%, $brand-medium-blue 100%);
        }
        
        &:active {
          transform: translateY(0);
          box-shadow: 0 1px 2px rgba($brand-medium-blue, 0.2);
        }
      }
      
      // Style the duplicate link
      a[href*="duplicate"] {
        color: $warning !important;
        font-size: 12px !important;
        font-weight: $font-weight-medium;
        text-decoration: none;
        padding: 2px 0;
        border-bottom: 1px dashed transparent;
        transition: all 0.2s ease;
        
        &:hover {
          color: darken($warning, 10%) !important;
          border-bottom-color: darken($warning, 10%);
        }
      }
    }
    
    // Lead card cell - ensure proper spacing
    &:nth-child(3) {
      padding-top: 0 !important;
      padding-left: $spacing-sm !important;
    }
  }
}

// Adjust lead card to work better with new layout
.lead_card {
  margin-top: 0 !important;
  
  // Add subtle left indicator that matches the person icon on hover
  &::after {
    content: '';
    position: absolute;
    left: -8px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 60%;
    background: linear-gradient(180deg, $brand-teal 0%, $brand-medium-blue 100%);
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  tr:hover & {
    &::after {
      opacity: 1;
    }
  }
}

// Mobile adjustments
@media (max-width: 767px) {
  .lead_listing {
    td {
      &.dashboard_item_date {
        flex-direction: row !important;
        gap: $spacing-sm !important;
        padding: $spacing-sm 0 !important;
        
        .btn {
          flex: 1;
          max-width: none !important;
        }
      }
    }
  }
}

// Ensure consistent spacing in dashboard sections
.dashboard-section {
  .lead_listing {
    margin-top: $spacing-md !important;
  }
}