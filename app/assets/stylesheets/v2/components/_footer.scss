// Footer Component - BEM Structure
// Replaces legacy footer.scss

@import '../variables';

// Footer block
.footer {
  margin-top: $spacing-2xl;
  padding: $spacing-lg 0;
  background-color: $gray-50;
  border-top: 1px solid $gray-200;
  position: relative;
  width: 100%;
  
  &__container {
    text-align: center;
    padding: 0 $spacing-lg;
    margin: 0 auto; // Center the container
    max-width: 1200px; // Add max-width for better centering
    
    @media (min-width: $screen-md-min) {
      margin-left: 250px; // Account for sidebar
      padding-left: $spacing-xl;
      
      // Remove margin when no sidebar is present
      body.no-sidebar ~ #footer & {
        margin-left: auto;
        margin-right: auto;
        padding-left: $spacing-lg;
        padding-right: $spacing-lg;
      }
    }
  }
  
  &__content {
    color: $gray-600;
    font-size: $font-size-sm;
    margin: 0;
    font-family: $font-family-primary;
  }
  
  &__copyright {
    display: inline-block;
    margin-right: $spacing-md;
  }
  
  &__version {
    color: $gray-500;
    font-size: $font-size-xs;
    
    &::after {
      content: "-ui2";
    }
  }
  
  &__settings {
    display: inline-block;
    margin-left: $spacing-sm;
  }
  
  &__toggle {
    display: inline-block;
    margin-left: $spacing-sm;
    
    &-link {
      color: $gray-500;
      transition: $transition-base;
      text-decoration: none;
      
      &:hover {
        color: $brand-medium-blue;
        text-decoration: none;
      }
      
      &--active {
        color: $brand-teal;
      }
      
      .glyphicon {
        font-size: 14px;
      }
    }
  }
}

// Support for old markup (temporary during migration)
#footer {
  @extend .footer;
  
  .container {
    @extend .footer__container;
    
    // Override margin when no sidebar
    @media (min-width: $screen-md-min) {
      body.no-sidebar ~ #footer & {
        margin-left: auto !important;
        margin-right: auto !important;
        padding-left: 15px;
        padding-right: 15px;
      }
    }
  }
  
  .text-muted {
    @extend .footer__content;
    
    #copyright_notice {
      @extend .footer__copyright;
    }
    
    #bluesky_version {
      @extend .footer__version;
    }
  }
  
  .toggle_setting--button {
    @extend .footer__toggle;
    
    a {
      @extend .footer__toggle-link;
    }
    
    &.setting-on a {
      @extend .footer__toggle-link--active;
    }
  }
}

// Ensure proper layout spacing
#viewcontent {
  padding-bottom: $spacing-2xl;
}